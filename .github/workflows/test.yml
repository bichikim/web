name: Action Test
on:
  push:
    branches:
      - master
      - dev
jobs: 
  test:
    name: Test
    runs-on: ubuntu-latest
    outputs: 
      run_job: ${{ steps.changed-files.outputs.any_changed }}
    steps:
      - name: Checkout Repo
        uses: actions/checkout@master
        with:
          fetch-depth: 0
      - name: Prepare Pnpm
        uses: pnpm/action-setup@v2.0.1
        with:
          version: 6.7.6
      - name: Changed files
        uses: tj-actions/changed-files@v9
        id: changed-files
        with:
          files: |
            server
  next:
    name: Next
    needs: test
    runs-on: ubuntu-latest
    if: ${{needs.build-server.outputs.run_job == 'true' }}
    steps:
      - name: Checkout Repo
        uses: actions/checkout@master
