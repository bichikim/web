import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks'
import {h, ref} from 'vue-demi'
import {onShouldUpdate} from '../'

<Meta title="use/On Should Update"/>

# On Should Update

ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì‹œì ì— í˜¸ì¶œë©ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ëŠ” ë°ì´í„° fetch í™”ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸° ë“±ì´ ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì˜µì…˜ì—ì„œ ì–´ë–¤ ìƒíƒœë¥¼ ë³´ê³  ì—…ë°ì´íŠ¸ í• ì§€ ì„ íƒ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

- ðŸŽ¯ ì²˜ìŒ ì‹¤í–‰ì‹œ
- ðŸŽ¯ ì˜¤í”„ë¼ì¸ì—ì„œ ì˜¨ë¼ì¸ìœ¼ë¡œ ì „í™˜ì‹œ
- ðŸŽ¯ ìœˆë„ìš°ê°€ í¬ì»¤ìŠ¤ ë ê²½ìš°
- ðŸŽ¯ ë¬¸ì„œê°€ ë‹¤ì‹œ ë³´ì¼ë•Œ (íƒ­ê°„ ì „í™˜ ë“±ì—ì„œ)
- ðŸŽ¯ ì§€ì •í•œ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ë‹¤ì‹œ ë³´ì¼ë•Œ
- ðŸŽ¯ ì§ì ‘ ë°˜í™˜ ë˜ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰ í• ë•Œ

export const Template = function () {
  return {
    setup() {
      const countRef = ref(0)
      onShouldUpdate(() => {
        countRef.value += 1
      })
      return function () {
        return h('div', [
          h('div', countRef.value),
        ])
      }
    },
  }
}

<Canvas>
  <Story name="Default">
    {Template.bind({})}
  </Story>
</Canvas>


